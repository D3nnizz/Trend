<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Interactive Scatter Plot</title>
    <!-- Include Plotly.js -->
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://cdn.plot.ly/plotly-2.29.1.min.js"></script>


</head>
<body>
    <h2>Interactive Scatter Plot</h2>
    <div id="chart" style="width: 100%; height: 600px;"></div>

    <script>
        // Load CSV data
        d3.csv("data/trend_3m.csv").then(function(rows) {
            // Convert strings to numbers
            var x = rows.map(r => new Date(r.timestamp));
            var y = rows.map(r => parseFloat(r.trend_ema));

            var trace = {
                x: x,
                y: y,
                mode: 'lines',   // <-- use lines instead of markers
                line: {color: 'blue'},  // optional: set line color
                type: 'scatter'
            };

            var layout = {
                plot_bgcolor: 'white',
                margin: { t: 20, b: 20, l: 20, r: 20 },
                xaxis: { showgrid: false, zeroline: false, mirror: true, linecolor: 'gray' },
                yaxis: { showgrid: false, zeroline: false, mirror: true, linecolor: 'gray', side: 'right' }
            };

            Plotly.newPlot('chart', [trace], layout);
        });
    </script>
</body>
</html>
