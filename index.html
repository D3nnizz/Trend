<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Interactive Scatter Plot</title>
    <!-- Include Plotly.js -->
    <script src="https://cdn.plot.ly/plotly-2.29.1.min.js"></script>

</head>
<body>
    <h2>Interactive Scatter Plot</h2>
    <div id="chart" style="width: 100%; height: 600px;"></div>

    <script>
        // Load CSV data
        Plotly.d3.csv("data/trend_3m.csv", function(err, rows){
            if(err){
                console.error("Failed to load CSV:", err);
                return;
            }

            // Assume CSV has columns "t" and "y"
            var x = rows.map(r => parseFloat(r.t));
            var y = rows.map(r => parseFloat(r.y));

            var trace = {
                x: x,
                y: y,
                mode: 'markers',
                marker: {
                    color: y,
                    colorscale: [[0, 'red'], [0.5, 'yellow'], [1, 'green']],
                    size: 10,
                    colorbar: {
                        title: "Y value",
                        x: -0.06,
                        tickvals: [],
                        showticklabels: false
                    }
                },
                type: 'scatter'
            };

            var layout = {
                plot_bgcolor: 'white',
                margin: {t: 20, b: 20, l: 20, r: 20},
                xaxis: {showgrid: false, zeroline: false, mirror: true, linecolor: 'gray'},
                yaxis: {showgrid: false, zeroline: false, mirror: true, linecolor: 'gray', side: 'right'}
            };

            Plotly.newPlot('chart', [trace], layout);
        });
    </script>
</body>
</html>
